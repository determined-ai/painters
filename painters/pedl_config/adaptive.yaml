description: cnn-painter-adaptive
checkpoint_storage:
  type: shared_fs
  host_path: "/home/chris/checkpoints/painters"

bind_mounts:
  - host_path: "/home/yoavz"
    container_path: "/home/yoavz"

hyperparameters:
  model_type:
    type: categorical
    vals: ["simple", "original"]

  dropout:
    type: double
    minval: 0.1
    maxval: 0.7

  lr:
    type: log
    base: 10
    minval: -6
    maxval: -4

  batch_size:
    type: int
    minval: 16
    maxval: 96

  multi_crop:
    type: categorical
    vals: [True, False]

  kernel_size: 3
  pool_size: 2
  simple_cnn_pool_size: 4
  l2_reg: 0.003

searcher:
  name: adaptive_simple
  metric: roc_auc
  smaller_is_better: true
  max_steps: 300
  max_trials: 25

resources:
  slots_per_trial: 1

min_validation_period: 5
batches_per_step: 744  # 1 epoch

environment:
  runtime_packages:
    - scikit-learn
    - objgraph
    - graphviz
