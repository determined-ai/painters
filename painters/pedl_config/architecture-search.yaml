description: cnn-painter-architecture-search
checkpoint_storage:
  type: s3
  access_key: AKIAJGK24F32WWJ25AEA
  secret_key: 08OM18juqj9p2ivz0kBkxsFVuY/yoC9A0fDHmSeA
  bucket: determined-ai-examples

bind_mounts:
  - host_path: "/home/yoavz"
    container_path: "/home/yoavz"

hyperparameters:
  model_type: "original"

  dropout:
    type: double
    minval: 0.1
    maxval: 0.8

  lr:
    type: log
    base: 10
    minval: -6
    maxval: -3

  batch_size:
    type: int
    minval: 16
    maxval: 96

  multi_crop:
    type: categorical
    vals: [True, False]

  l2_reg:
    type: log
    base: 10
    minval: -4
    maxval: -2

  initializer:
    type: categorical
    vals: ["random_uniform", "he_normal", "glorot_normal"]

  batch_normalization:
    type: categorical
    vals: [False, True]

  num_layers_per_conv_block: 3

  kernel_size_1:
    type: int
    minval: 3
    maxval: 15

  kernel_size_2:
    type: int
    minval: 3
    maxval: 15

  kernel_size_3:
    type: int
    minval: 3
    maxval: 15

  kernel_size_4:
    type: int
    minval: 3
    maxval: 15

  kernel_size_5:
    type: int
    minval: 3
    maxval: 15

  pool_size_1:
    type: int
    minval: 2
    maxval: 4

  pool_size_2:
    type: int
    minval: 2
    maxval: 4

  pool_size_3:
    type: int
    minval: 2
    maxval: 4

  pool_size_4:
    type: int
    minval: 2
    maxval: 4

  pool_size_5:
    type: int
    minval: 2
    maxval: 4

  final_hidden_size:
    type: int
    minval: 1024
    maxval: 4096

  simple_cnn_pool_size: 4

searcher:
  name: adaptive_simple
  metric: roc_auc
  smaller_is_better: false
  max_steps: 300
  max_trials: 500

resources:
  slots_per_trial: 1

min_validation_period: 5
batches_per_step: 744  # 1 epoch

environment:
  runtime_packages:
    - scikit-learn
    - objgraph
    - graphviz
